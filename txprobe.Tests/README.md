# txprobe.Tests

txprobe プロジェクト用の単体テストプロジェクトです。

## テスト対象

このテストプロジェクトは、以下の txprobe のクラスとメソッドをテストします：

### CommandOptionsTests.cs
- コマンドラインオプションの解析
- エンコーディング設定
- ファイル指定方法の検証
- カルチャー情報の設定
- 判定モードの設定
- プローブモードの設定
- ヘルプとバージョン表示
- 各種エラーケースの検証

### SearchWordsAndFileListTests.cs
- `ReadSearchWords()` メソッド
  - 検索単語ファイルからの読み込み
  - 空行のスキップ
  - エスケープシーケンスの変換
  - 空ファイルのエラー処理
- `ReadFileNameList()` メソッド
  - ファイルリストからの読み込み
  - CSV形式の処理
  - 存在しないファイルのスキップ
  - ワイルドカードパターンの処理

### ProbeFilesTests.cs
- `ProbeFiles` クラスのコンストラクタ
- `Probe()` メソッド
  - ファイルの検索処理
  - 検索単語の発見
  - 複数ファイルの処理
  - 出力ファイルの作成
  - プローブモード
  - エンコーディング判定モード

## テストフレームワーク

- **MSTest 2.2.10** を使用
- **.NET Framework 4.8.1** をターゲット

## 実行方法

Visual Studio のテストエクスプローラーから実行するか、以下のコマンドを使用します：

```
dotnet test
```

または

```
vstest.console.exe txprobe.Tests.dll
```

## 注意事項

- テストでは一時ファイルを作成しますが、`[TestCleanup]` 属性により自動的にクリーンアップされます
- 一部のテストでは実際のファイルシステムを使用します
- 非同期処理を含むテストでは短い待機時間を設けています
